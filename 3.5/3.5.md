# Домашнее задание к занятию Troubleshooting

### Цель задания

Устранить неисправности при деплое приложения.

### Чеклист готовности к домашнему заданию

1. Кластер K8s.

### Задание. При деплое приложение web-consumer не может подключиться к auth-db. Необходимо это исправить

1. Установить приложение по команде:
```shell
kubectl apply -f https://raw.githubusercontent.com/netology-code/kuber-homeworks/main/3.5/files/task.yaml
```
2. Выявить проблему и описать.
2.1. Нет указанных в deploy namespaces

![image](https://github.com/user-attachments/assets/c7f11b5a-12c6-4b67-aa66-34e91549bf80)

![image](https://github.com/user-attachments/assets/7101092a-ad3a-4ce5-bd94-9cde9680d0ac)

2.2 Logs

![image](https://github.com/user-attachments/assets/ab425da1-be1d-48b9-8e48-98c98513b86b)

![image](https://github.com/user-attachments/assets/6a68414e-0504-4e36-a3c7-5ab8ac801816)

Не удалост определить местонахождение хоста 'auth-db'

3. Исправить проблему, описать, что сделано.
Добавил namespaces 3.1.1

![image](https://github.com/user-attachments/assets/5e6d7bcf-3cfb-423b-804f-a42e9b5110a9)

Приложение "поднялось"

![image](https://github.com/user-attachments/assets/cb49a65a-de4a-4cbc-ae49-6d0b672dfe41)

3.1.2 Прописал [namespace](./files/task.yaml?plain=1#L1)

3.2 Поды находятся в разных namespace. Два варианта решения. 
- определить IP и прописать в deploy(противоречит логике K8s)
- [прописать namespace в deploy](./files/task.yaml?plain=1#L20)

4. Продемонстрировать, что проблема решена.

![image](https://github.com/user-attachments/assets/9c1abac0-96ed-4ddd-b83c-700c7a913047)

![image](https://github.com/user-attachments/assets/035fb0fb-259b-435a-967f-536832fedcc9)

![image](https://github.com/user-attachments/assets/dd188dc9-9f08-413b-b2b4-7ae6cf2e08a6)

### Правила приёма работы

1. Домашняя работа оформляется в своём Git-репозитории в файле README.md. Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.
2. Файл README.md должен содержать скриншоты вывода необходимых команд, а также скриншоты результатов.
3. Репозиторий должен содержать тексты манифестов или ссылки на них в файле README.md.
